{"version":3,"file":"main.js","mappings":"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","sources":["webpack://bookshop/./src/js/controllers/controllers.js","webpack://bookshop/./src/js/models/models.js","webpack://bookshop/./src/js/views/events/events.js","webpack://bookshop/./src/js/views/views.js","webpack://bookshop/./src/js/app.js","webpack://bookshop/./src/js/core/book.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass Controllers {\n    constructor() {\n        this.privateModels;\n        this.privateView;\n    }\n    SetPrivateModels(el) { this.privateModels = el; }\n    SetPrivateViews(el) { this.privateView = el; }\n    //* Логика главной страницы \n    PageMain() {\n        this.privateView.DisplayMain(); //* отображение  (подключение функционала)\n        this.selectCategories();\n        this.privateView.DisplayCounter();\n        this.lazyLoadEvent();\n    }\n    //* логика получения - обработки - отображения - выбранной категории пользователем\n    selectCategories() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let categories = document.querySelectorAll('.books__category');\n            let books = yield this.privateModels.Get('Architecture');\n            this.privateView.DisplayBooks(books, true);\n            this.selectBookEvent(books);\n            categories.forEach(category => {\n                category.addEventListener(\"click\", () => __awaiter(this, void 0, void 0, function* () {\n                    if (!category.dataset.index) {\n                        return;\n                    }\n                    this.privateView.DisplayMovingCategories(+category.dataset.index);\n                    let books = yield this.privateModels.Get(category.innerText);\n                    this.privateView.DisplayBooks(books, true);\n                }));\n            });\n        });\n    }\n    selectBookEvent(books) {\n        // const selectBook: HTMLElement | null = document.querySelector(`.j-${book.GetPrivateID()}-btn`);\n        let bookSelectBtns = document.querySelectorAll('.item__btn');\n        if (!bookSelectBtns) {\n            return;\n        }\n        bookSelectBtns.forEach(bookSelectBtn => {\n            bookSelectBtn.addEventListener('click', () => {\n                let counter = localStorage.getItem(\"counter\");\n                let newCounter = +counter + 1;\n                console.log(\"newCounter  \", newCounter);\n                localStorage.setItem(\"counter\", JSON.stringify(newCounter));\n                this.privateView.DisplayCounter();\n            });\n        });\n    }\n    lazyLoadEvent() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let lazyLoadBtn = document.querySelector('.footer__btn');\n            if (!lazyLoadBtn) {\n                return;\n            }\n            lazyLoadBtn.addEventListener('click', () => __awaiter(this, void 0, void 0, function* () {\n                let books = yield this.privateModels.Get('Architecture');\n                this.privateView.DisplayBooks(books, false);\n                this.selectBookEvent(books);\n            }));\n        });\n    }\n}\nexport default Controllers;\n// AIzaSyBsMDinhM8dAeM41Bi_tAcfNrKMgGVQANI\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Book from \"../core/book\";\nclass Models {\n    Get(category) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let URI = `https://www.googleapis.com/books/v1/volumes?q=%22subject:${category}%22&key=AIzaSyBsMDinhM8dAeM41Bi_tAcfNrKMgGVQANI&printType=books&startIndex=0&maxResults=10&langRestrict=en`;\n            const useRequest = () => {\n                console.log(URI);\n                return fetch(URI)\n                    .then((response) => response.json())\n                    .then((json) => {\n                    console.log(typeof json);\n                    return json;\n                })\n                    .catch(() => { console.log('error'); });\n            };\n            // let r=  async()=>{\n            //   try {\n            //     const response = await fetch(URI)\n            //     const { data } = await response.json()\n            //     return data\n            //   } catch (error) {\n            //     if (error) {\n            //       return error\n            //     }\n            //   }\n            // }\n            let requestResult;\n            let books = [];\n            const r = () => __awaiter(this, void 0, void 0, function* () {\n                requestResult = yield useRequest();\n                requestResult.items.forEach((requestBook) => {\n                    const book = new Book();\n                    this.check(requestBook.id) ? book.SetPrivateID(requestBook.id) : console.log();\n                    this.check(requestBook.volumeInfo.title) ? book.SetPrivateTitle(requestBook.volumeInfo.title) : console.log();\n                    this.check(requestBook.volumeInfo.authors) ? book.SetPrivateAuthors(...requestBook.volumeInfo.authors) : console.log();\n                    this.check(requestBook.volumeInfo.ratingsCount) ? book.SetPrivateRatingsCount(requestBook.volumeInfo.ratingsCount) : console.log();\n                    this.check(requestBook.volumeInfo.averageRating) ? book.SetPrivateAverageRating(requestBook.volumeInfo.averageRating) : console.log();\n                    this.check(requestBook.volumeInfo.description) ? book.SetPrivateDescription(requestBook.volumeInfo.description) : console.log();\n                    this.check(requestBook.volumeInfo.imageLinks.thumbnail) ? book.SetPrivateImageLink(requestBook.volumeInfo.imageLinks.thumbnail) : console.log();\n                    if (this.check(requestBook.saleInfo)) {\n                        if (this.check(requestBook.saleInfo.retailPrice)) {\n                            if (this.check(requestBook.saleInfo.retailPrice.amount)) {\n                                book.SetPrivatePrice(requestBook.saleInfo.retailPrice.amount);\n                                book.SetPrivateCode(requestBook.saleInfo.retailPrice.currencyCode);\n                            }\n                        }\n                    }\n                    books.push(book);\n                });\n            }); // ждем пока запрос выполнится\n            yield r();\n            // console.log(\"BOOKS\",books);\n            // let requestResult = { items: [] }\n            // console.log(URI);\n            // try {\n            // let response = await fetch(URI)\n            // requestResult = await response.json();\n            // } catch {\n            // console.log(\"error\");\n            // }\n            return books;\n        });\n    }\n    check(v) {\n        if (!v) {\n            return false;\n        }\n        return true;\n    }\n}\nexport default Models;\n","class Events {\n    // InitSliderBlink логика слайдера \n    InitSliderBlink(sliderBoxClass, sliderDotsName, activeClassName) {\n        let sliderDotsClass = \".\" + sliderDotsName;\n        let activeClass = \".\" + activeClassName;\n        let sliderBox = document.querySelector('.' + sliderBoxClass); // блок с картинками\n        let sliderDots = document.querySelector(sliderDotsClass); //блок с пунктами (точками) (only desktop)\n        console.log('sliderBox', sliderBoxClass);\n        initDots(); // добавляю dots в DOM, вешаю обработчик\n        initAutoplay(); // перемещаю класс active с заданным интервалом\n        function initDots() {\n            if (!sliderBox) {\n                return;\n            }\n            Array.from(sliderBox.children).forEach((image, index) => {\n                // let dot = `<div class=${sliderDotsName}-item n${index}  ${index === 0 ? activeClassName : \"\"}\" data-index=\"${index}\" ></div>`\n                let dot = `<div class=\"${sliderDotsName}-item n${index} ${index === 0 ? activeClassName : \"\"}\" data-index=\"${index}\" ></div>`;\n                if (!sliderDots) {\n                    return;\n                }\n                sliderDots.innerHTML += dot;\n                let dots = sliderDots.querySelectorAll(`${sliderDotsClass}-item`);\n                dots.forEach(dot => {\n                    dot.addEventListener(\"click\", function () {\n                        console.log(\"@@@OK\", dot.dataset);\n                        if (!dot.dataset.index) {\n                            return;\n                        }\n                        moveSlider(+dot.dataset.index);\n                    });\n                });\n            });\n        }\n        function initAutoplay() {\n            setInterval(() => {\n                console.log('play auto ');\n                if (!sliderBox) {\n                    return;\n                }\n                console.log('play auto in');\n                let ind = sliderBox.querySelector(\".\" + activeClassName);\n                if (!ind) {\n                    return;\n                }\n                if (!ind.dataset.index) {\n                    return;\n                }\n                let curNumber = +ind.dataset.index;\n                let nextNumber = curNumber === sliderBox.children.length - 1 ? 0 : curNumber + 1;\n                moveSlider(nextNumber);\n            }, 5000);\n        }\n        function moveSlider(num) {\n            if (!sliderBox) {\n                return;\n            }\n            if (!activeClass) {\n                return;\n            }\n            let list = sliderBox.querySelector(activeClass);\n            if (!list) {\n                return;\n            }\n            list.classList.remove(activeClassName);\n            let selBox = sliderBox.querySelector(\".n\" + num);\n            if (!selBox) {\n                return;\n            }\n            selBox.classList.add(activeClassName);\n            if (!sliderDots) {\n                return;\n            }\n            let selDots = sliderDots.querySelector(activeClass);\n            if (!selDots) {\n                return;\n            }\n            selDots.classList.remove(activeClassName);\n            let selSlide = sliderDots.querySelector(\".n\" + num);\n            if (!selSlide) {\n                return;\n            }\n            selSlide.classList.add(activeClassName);\n        }\n    }\n    //? InitBtnComment обработчик кнопки \"создать комментарий\"\n    InitBtnComment() {\n    }\n    //? InitBtnSortComments определяю обработчики для \"радио кнопок сортировки\" и кнопки \"избранное\"\n    InitBtnSortComments(innerHtmlElement) {\n    }\n    //?DisplayComments принимает список комментариев и рендерит  \n    DisplayComments(comments, innerHtmlElement) {\n    }\n    InitTextAreaBigger() {\n    }\n}\nexport default Events;\n","import Events from \"./events/events.js\";\n// методы кдасса view отображают шаблоны html элементов с нужными данными.\nclass Views extends Events {\n    constructor() {\n        super();\n    }\n    DisplayMain() {\n        console.log('@view');\n        this.InitSliderBlink(\"j-slider-img\", \"j-dots\", 'active');\n    }\n    DisplayMovingCategories(num) {\n        let activeCategory = document.querySelector('.active-cat');\n        if (!activeCategory) {\n            return;\n        }\n        activeCategory.classList.remove('active-cat');\n        let selectCategory = document.querySelector(\".c\" + num);\n        if (!selectCategory) {\n            return;\n        }\n        selectCategory.classList.add('active-cat');\n    }\n    DisplayBooks(books, clear) {\n        const booksHTMLRoot = document.querySelector('.books__row');\n        if (!booksHTMLRoot) {\n            return;\n        }\n        clear ? booksHTMLRoot.innerText = '' : console.log();\n        books.forEach(book => {\n            console.log(\"===================   book\");\n            const displayBook = `\n      \n      <div class=\"books__item item ${book.GetPrivateID()}\">\n      <img src=\"${book.GetPrivateImageLink()}\" class=\"item__img_big\" alt=\"\">\n      <div class=\"item__column\">\n        <div class=\"item__autor\">${book.GetPrivateAuthors()}</div>\n        <div class=\"item__title\">${book.GetPrivateTitle()}</div>\n        <div class=\"item__stars\">\n          <div class=\"star\">\n            ${book.GetPrivateAverageRating()}\n          </div>\n          <div class=\"review\">${book.GetPrivateRatingsCount()} review</div>\n        </div>\n        <div class=\"item__desc j-${book.GetPrivateID()}-desc\">  <p class=\"desc__text\"> ${book.GetPrivateFullDescription() && book.GetPrivateFullDescription().length > 35 ? (() => { return book.GetPrivateSmallDescription(); })() : (() => { return book.GetPrivateFullDescription(); })()}</p></div>\n        <div class=\"item__price\">${book.GetPrivatePrice()}   ${book.GetPrivateCode()}</div>\n\n        <button class=\"item__btn  .j-${book.GetPrivateID()}-btn\">buy now</button>\n      </div>\n    </div>\n    `;\n            booksHTMLRoot.insertAdjacentHTML('beforeend', displayBook);\n            const selectBook = document.querySelector(`.j-${book.GetPrivateID()}-desc-btn`);\n            if (!selectBook) {\n                return;\n            }\n            selectBook.addEventListener('click', () => {\n                let bookDescHTML = document.querySelector(`.j-${book.GetPrivateID()}-desc`);\n                console.log(selectBook);\n                if (!bookDescHTML) {\n                    return;\n                }\n                bookDescHTML.innerHTML = book.GetPrivateFullDescription();\n            });\n        });\n    }\n    DisplayCounter() {\n        let counter = localStorage.getItem(\"counter\");\n        const counterHTML = document.querySelector(`.header__counter`);\n        if (!counterHTML) {\n            return;\n        }\n        if (!counter) {\n            counter = '0';\n        }\n        counterHTML.innerText = counter;\n    }\n}\nexport default Views;\n","import \"../scss/style.scss\";\nimport Controllers from \"./controllers/controllers.js\";\nimport Models from \"./models/models.js\";\nimport Views from \"./views/views.js\";\nclass App {\n    constructor() {\n        this.privateControllers;\n    }\n    SetPrivateControllers(controller) { this.privateControllers = controller; }\n    Init() {\n        this.privateControllers.PageMain();\n    }\n}\n// Точка входа\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    const views = new Views();\n    const models = new Models();\n    const controllers = new Controllers();\n    controllers.SetPrivateModels(models);\n    controllers.SetPrivateViews(views);\n    const app = new App();\n    app.SetPrivateControllers(controllers);\n    app.Init();\n    console.log('app');\n});\n","class Book {\n    constructor() {\n        this.privateID;\n        this.privateTitle;\n        this.privateAuthors;\n        this.privateImageLink;\n        this.privateDescription;\n        this.privatePrice;\n        this.privateRatingsCount;\n        this.privatevAverageRating;\n        this.privateCode;\n    }\n    SetPrivateID(v) { this.privateID = v; }\n    SetPrivateTitle(v) { this.privateTitle = v; }\n    SetPrivateAuthors(...v) { this.privateAuthors = v; }\n    SetPrivateImageLink(v) { this.privateImageLink = v; }\n    SetPrivateDescription(v) { this.privateDescription = v; }\n    SetPrivatePrice(v) { this.privatePrice = v; }\n    SetPrivateRatingsCount(v) { this.privateRatingsCount = v; }\n    SetPrivateAverageRating(v) { this.privatevAverageRating = v; }\n    SetPrivateCode(v) { this.privateCode = v; }\n    GetPrivateID() { return this.privateID; }\n    GetPrivateTitle() { return this.privateTitle; }\n    GetPrivateAuthors() { return this.privateAuthors; }\n    GetPrivateImageLink() { return this.privateImageLink; }\n    GetPrivatePrice() { if (!this.privatePrice) {\n        return \"Free\";\n    } return this.privatePrice; }\n    GetPrivateRatingsCount() { if (!this.privateRatingsCount) {\n        return 0;\n    } return this.privateRatingsCount; }\n    GetPrivateAverageRating() {\n        if (!this.privatevAverageRating) {\n            this.privatevAverageRating = 0;\n        }\n        let res = \"\";\n        for (let i = 0; i < this.privatevAverageRating; i++) {\n            res += `<img src=\"./img/Star.png\" class=\"item__img\" alt=\"\" srcset=\"\">`;\n            console.log(\"res    \", res);\n        }\n        const countEmpty = 5 - this.privatevAverageRating;\n        for (let i = 0; i < countEmpty; i++) {\n            res += `<img src=\"./img/Star-grey.png\" class=\"item__img\" alt=\"\" srcset=\"\">`;\n        }\n        return res;\n    }\n    GetPrivateCode() { if (!this.privateCode) {\n        return '';\n    } return this.privateCode; }\n    GetPrivateFullDescription() {\n        if (!this.privateDescription) {\n            return \"Unfortunately, there is no description\";\n        }\n        return this.privateDescription.substring(0, 250);\n    }\n    GetPrivateSmallDescription() {\n        if (!this.privateDescription) {\n            return \"Unfortunately, there is no description\";\n        }\n        return `${this.privateDescription.substring(0, 90)} <span class='j-${this.GetPrivateID()}-desc-btn  m-desc-full-btn'>...</span>`;\n    }\n    //? PublicDisplayFieldsForAnswer рендер поля ввода и кнопки отправки ответа на коментарий \n    PublicDisplayFieldsForAnswer(innerHTMLElement, commentUnic, commentName) {\n    }\n    //? PuplicDisplayAnswer отображение ответа к коментарию\n    PuplicDisplayAnswer(innerHTMLElement) {\n    }\n    PuplicSetAnswer() {\n    }\n    //? privateSaveComment добавляю новый комментарий в массив в localStorage\n    PublicSaveAnswer() {\n    }\n    //? PublicInitBtnMakeLike определение обработчиков на кнопки \"лайк\" и \"дизлайк\" комментария\n    PublicInitBtnMakeLike() {\n    }\n}\nexport default Book;\n// requestResult {\"kind\":\"books#volumes\",\"totalItems\":200,\"items\":[{\"kind\":\"books#volume\",\"id\":\"JF9rk7z3wPoC\",\"etag\":\"Mz90nCUKor0\",\"selfLink\":\"https://www.googleapis.com/books/v1/volumes/JF9rk7z3wPoC\",\"volumeInfo\":{\"title\":\"Roti-Cochon ...\",\"publishedDate\":\"1890\",\"industryIdentifiers\":[{\"type\":\"OTHER\",\"identifier\":\"STANFORD:36105017530010\"}],\"readingModes\":{\"text\":false,\"image\":true},\"pageCount\":152,\"printType\":\"BOOK\",\"categories\":[\"Food\"],\"maturityRating\":\"NOT_MATURE\",\"allowAnonLogging\":false,\"contentVersion\":\"0.6.7.0.full.1\",\"panelizationSummary\":{\"containsEpubBubbles\":false,\"containsImageBubbles\":false},\"imageLinks\":{\"smallThumbnail\":\"http://books.google.com/books/content?id=JF9rk7z3wPoC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api\",\"thumbnail\":\"http://books.google.com/books/content?id=JF9rk7z3wPoC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"},\"language\":\"fr\",\"previewLink\":\"http://books.google.ru/books?id=JF9rk7z3wPoC&printsec=frontcover&dq=%22subject:Food&hl=&as_pt=BOOKS&cd=1&source=gbs_api\",\"infoLink\":\"https://play.google.com/store/books/details?id=JF9rk7z3wPoC&source=gbs_api\",\"canonicalVolumeLink\":\"https://play.google.com/store/books/details?id=JF9rk7z3wPoC\"},\"saleInfo\":{\"country\":\"RU\",\"saleability\":\"FREE\",\"isEbook\":true,\"buyLink\":\"https://play.google.com/store/books/details?id=JF9rk7z3wPoC&rdid=book-JF9rk7z3wPoC&rdot=1&source=gbs_api\"},\"accessInfo\":{\"country\":\"RU\",\"viewability\":\"ALL_PAGES\",\"embeddable\":true,\"publicDomain\":true,\"textToSpeechPermission\":\"ALLOWED\",\"epub\":{\"isAvailable\":false,\"downloadLink\":\"http://books.google.ru/books/download/Roti_Cochon.epub?id=JF9rk7z3wPoC&hl=&output=epub&source=gbs_api\"},\"pdf\":{\"isAvailable\":true,\"downloadLink\":\"http://books.google.ru/books/download/Roti_Cochon.pdf?id=JF9rk7z3wPoC&hl=&output=pdf&sig=ACfU3U3fkISlG1xbFViXiLUlHhj0CER9hQ&source=gbs_api\"},\"webReaderLink\":\"http://play.google.com/books/reader?id=JF9rk7z3wPoC&hl=&as_pt=BOOKS&source=gbs_api\",\"accessViewStatus\":\"FULL_PUBLIC_DOMAIN\",\"quoteSharingAllowed\":false}}]}\n// events.js:36 \n"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","InitSliderBlink","sliderBoxClass","sliderDotsName","activeClassName","sliderDotsClass","activeClass","sliderBox","document","querySelector","sliderDots","moveSlider","num","list","classList","remove","selBox","add","selDots","selSlide","console","log","Array","from","children","forEach","image","index","dot","innerHTML","querySelectorAll","addEventListener","dataset","setInterval","ind","curNumber","length","InitBtnComment","InitBtnSortComments","innerHtmlElement","DisplayComments","comments","InitTextAreaBigger","constructor","super","DisplayMain","this","DisplayMovingCategories","activeCategory","selectCategory","DisplayBooks","books","clear","booksHTMLRoot","innerText","book","displayBook","GetPrivateID","GetPrivateImageLink","GetPrivateAuthors","GetPrivateTitle","GetPrivateAverageRating","GetPrivateRatingsCount","GetPrivateFullDescription","GetPrivateSmallDescription","GetPrivatePrice","GetPrivateCode","insertAdjacentHTML","selectBook","bookDescHTML","DisplayCounter","counter","localStorage","getItem","counterHTML","App","privateControllers","SetPrivateControllers","controller","Init","PageMain","views","models","Get","category","requestResult","URI","fetch","response","json","catch","items","requestBook","privateID","privateTitle","privateAuthors","privateImageLink","privateDescription","privatePrice","privateRatingsCount","privatevAverageRating","privateCode","SetPrivateID","v","SetPrivateTitle","SetPrivateAuthors","SetPrivateImageLink","SetPrivateDescription","SetPrivatePrice","SetPrivateRatingsCount","SetPrivateAverageRating","SetPrivateCode","res","i","countEmpty","substring","PublicDisplayFieldsForAnswer","innerHTMLElement","commentUnic","commentName","PuplicDisplayAnswer","PuplicSetAnswer","PublicSaveAnswer","PublicInitBtnMakeLike","check","id","volumeInfo","title","authors","ratingsCount","averageRating","description","imageLinks","thumbnail","saleInfo","retailPrice","amount","currencyCode","push","r","controllers","privateModels","privateView","SetPrivateModels","el","SetPrivateViews","selectCategories","lazyLoadEvent","categories","selectBookEvent","bookSelectBtns","bookSelectBtn","newCounter","setItem","JSON","stringify","lazyLoadBtn","app"],"sourceRoot":""}